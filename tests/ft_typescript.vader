Include: include/setup.vader

Execute (typescript: tslint):
  new
  file t.ts
  let tslint = neomake#makers#ft#typescript#tslint()
  let tslint.exe = 'cat'
  let tslint.args = 'tests/fixtures/typescript/tslint_output.json'

  call neomake#Make(1, [tslint])
  NeomakeTestsWaitForFinishedJobs

  AssertEqual getloclist(0), [{
  \ 'lnum': 7,
  \ 'bufnr': bufnr('%'),
  \ 'col': 1,
  \ 'valid': 1,
  \ 'vcol': 0,
  \ 'nr': -1,
  \ 'type': 'W',
  \ 'pattern': '',
  \ 'text': "Calls to 'console.log' are not allowed.",
  \ }, {
  \ 'lnum': 5,
  \ 'bufnr': bufnr('%'),
  \ 'col': 23,
  \ 'valid': 1,
  \ 'vcol': 0,
  \ 'nr': -1,
  \ 'type': 'E',
  \ 'pattern': '',
  \ 'text': 'Missing semicolon'}]

  bwipe

Execute (typescript: tsc):
  Save &errorformat
  let &errorformat = neomake#makers#ft#typescript#tsc().errorformat
  new
  file t.ts

  lgetexpr
  \ "t.ts(13,7): error TS2322: Type '0' is not assignable to type 'string'."

  AssertEqual getloclist(0), [{
  \ 'lnum': 13,
  \ 'bufnr': bufnr('%'),
  \ 'col': 7,
  \ 'valid': 1,
  \ 'vcol': 0,
  \ 'nr': -1,
  \ 'type': 'E',
  \ 'pattern': '',
  \ 'text': 'TS2322: Type ''0'' is not assignable to type ''string''.'}]

  bwipe
